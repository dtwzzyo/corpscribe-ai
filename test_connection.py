import ollama
import sys


PC_IP_ADDRESS = 'http://192.168.0.15:11434' 

print("–ü—ã—Ç–∞—é—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É Ollama –Ω–∞ –ü–ö...")

try:
    client = ollama.Client(host=PC_IP_ADDRESS)
    
    print("‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!")
    print("–û—Ç–ø—Ä–∞–≤–ª—è—é —Ç–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å...")
    
    response = client.chat(
        model='mistral', 
        messages=[
            {
                'role': 'user',
                'content': '–ü–æ—á–µ–º—É –Ω–µ–±–æ –≥–æ–ª—É–±–æ–µ? –û–±—ä—è—Å–Ω–∏ –∫—Ä–∞—Ç–∫–æ, –∫–∞–∫ –¥–ª—è –ø—è—Ç–∏–∫–ª–∞—Å—Å–Ω–∏–∫–∞.',
            },
        ]
    )
    
    print("\nü§ñ –û—Ç–≤–µ—Ç –æ—Ç –º–æ–¥–µ–ª–∏:\n")
    print(response['message']['content'])

except Exception as e:
    print(f"\n‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: {e}")
    print("\n---")
    print("–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:")
    print("1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ü–ö –∏ MacBook –≤ –æ–¥–Ω–æ–π Wi-Fi —Å–µ—Ç–∏.")
    print(f"2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ IP-–∞–¥—Ä–µ—Å –≤ —Å–∫—Ä–∏–ø—Ç–µ ({PC_IP_ADDRESS}) –≤–µ—Ä–Ω—ã–π.")
    print("3. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–∞ –ü–ö —Å–æ–∑–¥–∞–Ω OLLAMA_HOST=0.0.0.0 –∏ –ü–ö –±—ã–ª –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω.")
    print("4. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –¥–ª—è –ø–æ—Ä—Ç–∞ 11434 —Å–æ–∑–¥–∞–Ω–æ –ø—Ä–∞–≤–∏–ª–æ –≤ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–µ Windows.")
    sys.exit(1)
